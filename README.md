# Лабораторная работа. Калькулятор E3



## Структура проекта:

 <pre>
    .
    ├── python_calculate_laba                  # Кодовая база моей лабораторной работы
    │   ├── src/                               # Исходный код
    │   ├── tests/                             # Unit тесты
    │   ├── uv.lock                            # зависимости моего проекта
    │   ├── .gitignore                         # git ignore файл
    │   ├──.pre-commit-config.yaml             # Средства автоматизации проверки кодстайла
    │   ├── README.md                          # Описание моего проекта, с описанием файлов и с титульником о том,
                                                что и какая задача
</pre>
## В папке [src](./src) лежат файлы с реализацией задачи заданной в лабораторной работе:
 <pre>
    .
    ├── src
    │   ├── main.py                # Обязательный файл, в котором описана точка входа в приложение - функция **main**
    │   ├── calculator_E3.py       # реализация самого калькулятора
    │   ├── errors.py              # Классы ошибок         
    │   ├── _init_.py

</pre>

## В папке [tests](./tests) лежат файлы с тестами:
 <pre>
    .
    ├── tests
    │   ├── _init_.py               
    │   ├── test_calculator.py     #файл с unittest          
</pre>

## Алгоритм работы моего калькулятора: 
В файле main входная точка, вводится выражение, которое нужно посчитать и вызывается calculator_E3.py, в котором:
    
1) Функция error_extraneous: проверяет введенную строку на наличие посторонних символов и возвращает 1/0 (есть/нет).
2) Функция error_empty_input: проверяет является ли введенная строка пустой (если строка состоит только из пробелов ее тоже считаем пустой) и возвращает 1/0 (есть/нет).
3) Функция edit: выделяет с двух сторон операнды пробелами, чтобы потом сплитом отделить их от чисел, убирает лишние пробелы и при необходимости пробел в начале строки, возвращает отредактированную строку.
4) Функция error_joint_operands: проверяет наличие стыка операторов, все комбинации из двух операторов являются стыками, кроме ++, --, -+, +- (один знак воспринимаем, как унарный), но если это соетание не в начале строки) и возвращает 1/0 (есть/нет).
5) Функция edit_2: избавляется от лишних знаков (+- и - эквивалентно) и заменяет // на #, потом сплитуем по пробелу строку и убираем '' из массива, возвращаем этот массив
6) Функция error_bad_input: проверяет, что между числами всегда будет знак (иначе => ошибка), проверяет стоит ли в начале/конце строки знак (=> ошибка), также функция возвращает наличие унарного - в начале строки, и обрабатывает унарный знак в начале строки (если + - убирает, т.к. он ни на что не влияет, если минус тоже убирает из массива, но пишет, что он есть), возвращает массив и наличие унарного минуса первым элементом массива (True/False)
7) Функция error_0: проверяет есть ли деление на 0, и возвращает 1/0 (есть/нет), тем самым в функции cout помогает понять есть ли попытки согрешить (поделить/взять остаток на 0)
8) Функция bad_digit: проверяет является ли число int и возвращает 0/1 (да/нет), тем самым в функции cout помогает понять совершается ли операция %,// над float (если да - ошибка)
9) Функция count: выполняет /,//,*,% и возвращает два стека: чисел и операций (+,-), также в нужный момент вызывается проверка с помощью error_0 и bad_digit (деление/взятие остатка на 0 и //,% над float)
10) Функция calculate: вызывает вссе функции в нужном порядке (проверка на ошибки и редактирование n), если все хорошо, то из count получает два стека и считает итоговый результат.

## Допущения: 
Пользователь может вводить сколько угодно пробелов. Унарный знак может быть  отделен от числа множеством пробелов, если пользователь вводит два оператора подряд и хотяб один из них + или - (т.е. мб унарным), то  будем считать унарным, в других случаях два или больше знаков подряд -> ошибка. В начале  ввода не может быть знаков, помимо одного унарного. В конце не может быть знаков вообще. Между числами обязательно должен быть какой-то знак. Нельзя: делить/брать остаток на 0, производить //,% над float, вводить пустую строку или только множество пробелов, вводить посторонние символы (что-то кроме цифр и операндов). Водить можно только целые числа.